<html>
<head><title>Flashcards for kids</title></head>
<body>
<div style="position:absolute; top:0px; left:0px; width:100vw; z-index:9999; height:100px; background:white;">
    <center>
        <h1 id="wrd"><button onclick="runall();">Start</button></h1>
    </center>
</div>

<iframe src="about:blank" scrolling="no" id="if" style="transform:translate(0px, -300px); border:0; padding:0; width:100vw; height:10000px"></iframe>

<script defer>
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}
let words = shuffleArray([
"apple",
"ball",
"banana",
"book",
"car",
"cat",
"dog",
"doll",
"cup",
"door",
"egg",
"elephant",
"fish",
"flower",
"fork",
"grass",
"hat",
"house",
"ice cream",
"juice",
"kite",
"key",
"lion",
"moon",
"monkey",
"nail",
"orange",
"pencil",
"queen",
"quilt",
"rabbit",
"rain",
"sock",
"sun",
"shoe",
"spoon",
"snake",
"tree",
"train",
"truck",
"umbrella",
"volcano",
"watch",
"xylophone",
"yellow",
"zebra",
"apple juice",
"baby bottle",
"candy",
"airplane",
"bear",
"butterfly",
"bike",
"bird",
"bus",
"camera",
"candle",
"carousel",
"chair",
"chicken",
"clock",
"cloud",
"computer",
"cookie",
"cow",
"crayon",
"cupcake",
"deer",
"dinosaur",
"doctor",
"dolphin",
"dragon",
"duck",
"eggplant",
"envelope",
"eraser",
"eye",
"fire truck",
"firefly",
"flag",
"frog",
"guitar",
"hamburger",
"hammer",
"hanger",
"helicopter",
"horse",
"hot air balloon",
"igloo",
"jellyfish",
"keychain",
"ladybug",
"lamp",
"laptop",
"leaf",
"lightbulb",
"lion",
"lobster",
"magnet",
"Jumper",
"Kettle",
"Ladder",
"Lampshade",
"Lawnmower",
"Lemon",
"Letter",
"Library",
"Life jacket",
"Light switch",
"Lizard",
"Lollipop",
"Magnifying glass",
"Mailbox",
"Map",
"Marker",
"Match",
"Mermaid",
"Microphone",
"Mirror",
"Mitten",
"Mixer",
"Motorcycle",
"Mouse",
"Mushroom",
"Music box",
"Nectarine",
"Notebook",
"Nutcracker",
"Oven",
"Oyster",
"Pacifier",
"Paintbrush",
"Panda",
"Paper clip",
"Paper plane",
"Parrot",
"Party hat",
"Peacock",
"Pear",
"Pendant",
"Penguin",
"Pepper",
"Perfume",
"Phone",
"Photo frame",
"Picnic basket",
"Piggy bank",
"Pineapple",
"Pirate ship",
"Playground",
"Plunger",
"Popsicle",
"Pouch",
"Power drill",
"Pram",
"Pterodactyl",
"Pumpkin",
"Purse",
"Push pin",
"Puzzle",
"Quadcopter",
"Quail",
"Radiator",
"Raincoat",
"Recorder",
"Refrigerator",
"Remote control",
"Ring",
"Robot",
"Rocking horse",
"Rollerblade",
"Rollercoaster",
"Rubber duck",
"Raccoon",
"Sailboat",
"Sailing ship",
"Sandcastle",
"Sand dollar",
"Sandals",
"Scarf",
"Scissors",
"Scorpion",
"Scooter",
"Scuba diver",
"Seahorse",
"See-saw",
"Sewing machine",
"Shark",
"Shell",
"Shoeshine box",
"Shower",
"Skateboard",
"Skeleton",
"Skunk",
"Slipper",
"Snail",
"Snowflake",
"Snowman",
"Soap dish",
"Sofa",
"Solar system",
"Sombrero",
"Spider",
"Spool of thread",
"Squirrel",
"Staircase",
"Starfish",
"Statue",
"Steering wheel",
"Stethoscope",
"Sticker",
"Stockings",
"Stove",
"Straw",
"Strawberry",
"Streetlight",
"Sunflower",
"Sunglasses",
"Surfer",
"Sushi",
"Swan",
"Sweater",
"Swimming pool",
"Sword",
"Tablecloth",
"Tambourine",
"Tangerine",
"Teapot",
"Teddy bear",
"Telephone",
"Telescope",
"Television",
"Tennis racket",
"Thermometer",
"Thimble",
"Tiger",
"Tissue box",
"Toad",
"Toaster",
"Toilet",
"Tomato",
"Toothbrush",
"Toothpaste",
"Tornado",
"Tractor",
"Trailer",
"Train station",
"Trampoline",
"Trash can"
].filter(
    (value, index, self) => {
        return self.indexOf(value) === index;
    }
));

const speak = (txt) =>
{
    const synth = window.speechSynthesis;
    const voices = synth.getVoices().sort(function (a, b) {
        const aname = a.name.toUpperCase();
        const bname = b.name.toUpperCase();
        return aname < bname ? -1 : aname == bname ? 0 : 1;
    });

    const utterThis = new SpeechSynthesisUtterance(txt);

    for (let i = 0; i < voices.length; i++)
    {
        if (voices[i].name === 'Google UK English Female')
        {
            utterThis.voice = voices[i];
            break;
        }
    }

    utterThis.pitch = 1;
    utterThis.rate = 1;
    synth.speak(utterThis);
}

const run = (words, delay) =>
{
    if (!words || words.length == 0)
    {
        window.location.reload();
        return;
    }
    let word = words.pop();
    document.getElementById('wrd').innerHTML = word;
    document.getElementById('if').src="https://www.pexels.com/search/" + word.replaceAll(' ', '%20') + "/"; setTimeout((()=>{run(words, delay);}), delay);
    setTimeout(()=>{speak(word);}, 1500);
    setTimeout(()=>{speak(word);}, 3000);
    setTimeout(()=>{speak(word);}, 4500);
}

function runall()
{
    run(words, 8000);
}

</script>
</body>
